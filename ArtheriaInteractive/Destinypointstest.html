<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Destiny Points</title>
    <!-- Firebase JavaScript SDK -->
    <script type="module">

        // Import the functions you need from the SDKs you need
      
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
      
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-analytics.js";
      
        // TODO: Add SDKs for Firebase products that you want to use
      
        // https://firebase.google.com/docs/web/setup#available-libraries
      
      
        // Your web app's Firebase configuration
      
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      
        const firebaseConfig = {
      
          apiKey: "AIzaSyDppR7WsOrpZrmxMwfph1iH4yGi_r7XQ8s",
      
          authDomain: "mikeysworld-44804.firebaseapp.com",
      
          databaseURL: "https://mikeysworld-44804-default-rtdb.firebaseio.com",
      
          projectId: "mikeysworld-44804",
      
          storageBucket: "mikeysworld-44804.appspot.com",
      
          messagingSenderId: "498339189232",
      
          appId: "1:498339189232:web:1321e3310eb289de024d35",
      
          measurementId: "G-7T8P6JHWXY"
      
        };
      
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
      
        const analytics = getAnalytics(app);
      </script>
    <script>
   //Function to update Destiny Points count in Firebase
    function updateDestinyPoints(change) {
        // Get a reference to the Destiny Points node in Firebase
        const destinyPointsRef = firebase.database().ref('destinypoints');

        // Fetch the current count and update it
        destinyPointsRef.transaction(function(currentCount) {
            // Add or subtract destiny points based on the provided change
            return (currentCount || 0) + change;
        });
    }
    </script>

    <!--Below is Firebase Display Destiny Points-->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js"></script>
<script>
    const destinyPointsRef = firebase.database().ref('path/to/destinypoints');

// Retrieve the value and display it
destinyPointsRef.on('value', function(snapshot) {
  const destinyPoints = snapshot.val();
  console.log("destinypoints:", destinyPoints);
  document.getElementById('destinypoints').innerText = "destinypoints: " + destinyPoints;
});
</script>
</head>
<body>
    <h1>Update Destiny Points</h1>
    <div id="destinypoints"></div>
    <button onclick="updatedestinypoints()">Update Destiny Points</button>
    <button onclick="updatedestinypoints(1)">Add Destiny Point</button>
    <button onclick="updatedestinypoints(-1)">Subtract Destiny Point</button>
    <p>I don't know enough JS at the moment (2024 April 2) to print out the current Destiny Points from the Firebase Database.</p>
</body>
</html>
